<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èªæ—çµäºº 4.0 - å››å¤§çŸ©é™£ç‰¹è¨“</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary: #2d4a22; --pro: #5a4a78; --bg: #fdfaf5; --card: #ffffff; --accent: #c66b3d; }
        body { font-family: "Noto Sans TC", sans-serif; background-color: var(--bg); margin: 0; padding: 20px; display: flex; justify-content: center; }
        #app { width: 100%; max-width: 480px; }
        .card { background: var(--card); padding: 25px; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        h1 { text-align: center; color: var(--primary); margin-bottom: 25px; font-size: 1.5rem; }
        
        /* é¸å–®ä½ˆå±€ */
        .menu-section { margin-bottom: 20px; }
        .section-title { font-weight: bold; margin-bottom: 10px; color: #666; font-size: 0.9rem; border-left: 4px solid var(--accent); padding-left: 8px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        
        .nav-btn { padding: 20px 10px; border: 1.5px solid #eee; border-radius: 16px; background: white; cursor: pointer; transition: 0.2s; text-align: center; }
        .nav-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .nav-btn b { display: block; font-size: 1.1rem; margin-bottom: 5px; }
        .nav-btn small { color: #888; font-size: 0.8rem; }
        
        /* åŸºç¤å€é¡è‰² */
        .btn-basic { border-bottom: 4px solid var(--primary); }
        /* é«˜æ‰‹å€é¡è‰² */
        .btn-pro { border-bottom: 4px solid var(--pro); }

        /* éŠæˆ²ä»‹é¢ */
        #game-ui { display: none; }
        .question { font-size: 1.15rem; line-height: 1.6; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 15px; font-weight: 500; }
        .options { display: grid; gap: 12px; }
        .opt-btn { padding: 15px; border: 1px solid #ddd; border-radius: 12px; background: white; text-align: left; cursor: pointer; font-size: 1rem; }
        #feedback { margin-top: 20px; padding: 15px; border-radius: 12px; display: none; }
        .correct { background: #e8f5e9; color: #2e7d32; }
        .wrong { background: #ffebee; color: #c62828; }
        #next-btn { width: 100%; padding: 15px; margin-top: 20px; border-radius: 12px; border: none; background: #333; color: white; cursor: pointer; display: none; font-weight: bold; }
    </style>
</head>
<body>
<div id="app">
    <div class="card">
        <h1>ğŸ¹ èªæ—çµäºº 4.0</h1>

        <div id="menu-ui">
            <div class="menu-section">
                <div class="section-title">ã€åŸºç¤è¨“ç·´å€ã€‘å»ºç«‹ä¿¡å¿ƒèˆ‡åŸºæœ¬åŠŸ</div>
                <div class="grid">
                    <button class="nav-btn btn-basic" onclick="startLevel('basic_word')"><b>å½¢éŸ³ç¾©</b><small>åŸºç¤å­—è©ç·´ç¿’</small></button>
                    <button class="nav-btn btn-basic" onclick="startLevel('basic_reading')"><b>æ–‡æ„å•Ÿè’™</b><small>çŸ­å¥èˆ‡èªæ„Ÿ</small></button>
                </div>
            </div>

            <div class="menu-section">
                <div class="section-title">ã€é«˜æ‰‹å¯¦æˆ°å€ã€‘æ­·å±†è©¦é¡Œèˆ‡é›£é¡Œ</div>
                <div class="grid">
                    <button class="nav-btn btn-pro" onclick="startLevel('pro_word')"><b>æ­·å±†å½¢éŸ³ç¾©</b><small>æœƒè€ƒå¯¦æˆ°é¡Œ</small></button>
                    <button class="nav-btn btn-pro" onclick="startLevel('pro_reading')"><b>æ­·å±†é–±è®€</b><small>æ–‡è¨€æ–‡/é•·æ–‡åˆ¤è®€</small></button>
                </div>
            </div>
        </div>

        <div id="game-ui">
            <div id="q-source" style="font-size: 0.8rem; color: #999; margin-bottom: 10px;"></div>
            <div class="question" id="q-text"></div>
            <div class="options" id="opt-zone"></div>
            <div id="feedback"></div>
            <button id="next-btn">ç¢ºèªä¸‹ä¸€æ­¥ â”</button>
        </div>
    </div>
</div>

<script>
    const allQuestions = [
        // === 1. åŸºç¤è¨“ç·´å€ï¼šå½¢éŸ³ç¾© (cat: "basic_word") ===
        { id: "bw1", cat: "basic_word", q: "ã€Œæ‹šã€å‘½å·¥ä½œçš„è®€éŸ³ç‚ºä½•ï¼Ÿ", options: ["(A) ã„†ã„¢Ë‹", "(B) ã„†ã„§ã„£"], correct: "(A) ã„†ã„¢Ë‹", note: "æ³¨æ„ï¼šæœƒè€ƒæ¨™æº–éŸ³ç‚ºå››è²ã„†ã„¢Ë‹ã€‚" },
        { id: "bw2", cat: "basic_word", q: "ä¸‹åˆ—ã€Œ ã€ä¸­çš„å­—ï¼Œä½•è€…å­—å½¢å®Œå…¨æ­£ç¢ºï¼Ÿ", options: ["(A) èµ°é¦¬ã€Œç™»ã€", "(B) èµ°é¦¬ã€Œç‡ˆã€"], correct: "(B) èµ°é¦¬ã€Œç‡ˆã€", note: "èµ°é¦¬ç‡ˆï¼šå½¢å®¹äº‹æƒ…å¾€å¾©ä¸åœã€‚" },
        { id: "bw3", cat: "basic_word", q: "ã€Œè‡ªæ€¨è‡ªè‰¾ã€çš„ã€Œè‰¾ã€å­—è®€éŸ³ç‚ºä½•ï¼Ÿ", options: ["(A) ã„Ë‹", "(B) ã„§Ë‹"], correct: "(B) ã„§Ë‹", note: "è‰¾ï¼šæ²»ä¹Ÿã€æ‚”æ”¹ä¹‹æ„ï¼Œè®€ã„§Ë‹ã€‚" },
        { id: "bw4", cat: "basic_word", q: "ã€Œä¾›ã€æ‡‰éœ€æ±‚çš„è®€éŸ³ç‚ºä½•ï¼Ÿ", options: ["(A) ã„ã„¨ã„¥", "(B) ã„ã„¨ã„¥Ë‹"], correct: "(A) ã„ã„¨ã„¥", note: "æä¾›ã€ä¾›çµ¦è®€ä¸€è²ã€‚" },
        { id: "bw5", cat: "basic_word", q: "ä¸‹åˆ—ä½•è€…ç”¨å­—æ­£ç¢ºï¼Ÿ", options: ["(A) å†æ¥å†å²", "(B) å†æ¥å†å‹µ"], correct: "(A) å†æ¥å†å²", note: "å²ï¼šç£¨ç·´ã€ç²¾é€²ã€‚" },
        // ... (æ­¤è™•å¯æŒ‰æ­¤æ ¼å¼ç¹¼çºŒå¢åŠ  10 é¡Œ)

        // === 2. åŸºç¤è¨“ç·´å€ï¼šæ–‡æ„å•Ÿè’™ (cat: "basic_reading") ===
        { id: "br1", cat: "basic_reading", q: "ã€Œå­¸è€Œä¸æ€å‰‡ç½”ï¼Œæ€è€Œä¸å­¸å‰‡æ®†ã€‚ã€é€™å¥è©±å¼·èª¿ä»€éº¼ï¼Ÿ", options: ["(A) å¤šè®€æ›¸å°±å¥½", "(B) å­¸ç¿’èˆ‡æ€è€ƒæ‡‰ä¸¦é‡", "(C) æ€è€ƒæ¯”è®€æ›¸é‡è¦", "(D) è®€æ›¸æœƒè®“äººè¿·æƒ‘"], correct: "(B) å­¸ç¿’èˆ‡æ€è€ƒæ‡‰ä¸¦é‡", note: "å¼·èª¿çŸ¥æ€§èˆ‡æ€è¾¨çš„çµåˆã€‚" },
        { id: "br2", cat: "basic_reading", q: "ã€Œæº«æ•…è€ŒçŸ¥æ–°ã€çš„ã€Œæ•…ã€å­—æ˜¯ä»€éº¼æ„æ€ï¼Ÿ", options: ["(A) æ•…äº‹", "(B) æ•…é„‰", "(C) èˆŠçš„çŸ¥è­˜", "(D) æ•…æ„"], correct: "(C) èˆŠçš„çŸ¥è­˜", note: "è¤‡ç¿’èˆŠçš„çŸ¥è­˜å¾ä¸­å¾—åˆ°æ–°è¦‹è§£ã€‚" },
        { id: "br3", cat: "basic_reading", q: "ã€Œäººä¸çŸ¥è€Œä¸æ…ã€ä¸­ï¼Œã€Œæ…ã€å­—çš„æ„æ€æ˜¯ï¼Ÿ", options: ["(A) æº«æš–", "(B) æ€¨æ¨ã€ç”Ÿæ°£", "(C) éš±ç", "(D) å¿«æ¨‚"], correct: "(B) æ€¨æ¨ã€ç”Ÿæ°£", note: "å³ä¾¿ä»–äººä¸ç†è§£ä¹Ÿä¸æ„Ÿåˆ°æ†¤æ€’ã€‚" },

        // === 3. é«˜æ‰‹å¯¦æˆ°å€ï¼šæ­·å±†å½¢éŸ³ç¾© (cat: "pro_word") ===
        { id: "pw1", cat: "pro_word", source: "113æœƒè€ƒ", q: "ä¸‹åˆ—æ–‡å¥ã€Œ ã€ä¸­çš„å­—ï¼Œä½•è€…è®€éŸ³æ­£ç¢ºï¼Ÿ", options: ["(A) ã€Œå¡‘ã€è† ï¼šã„™ã„¨Ë‹", "(B) ã€ŒçŒã€ä¸åŠé˜²ï¼šã„—ã„¨Ë‹", "(C) ã€Œæ‚„ã€ç„¶é›¢å»ï¼šã„‘ã„§ã„ ", "(D) ã€Œæ··ã€æ¿ï¼šã„ã„¨ã„£ËŠ"], correct: "(A) ã€Œå¡‘ã€è† ï¼šã„™ã„¨Ë‹", note: "çŒï¼šã„˜ã„¨Ë‹ï¼›æ‚„ï¼šã„‘ã„§ã„ Ë‡ï¼›æ··ï¼šã„ã„¨ã„£Ë‹ã€‚" },
        { id: "pw2", cat: "pro_word", source: "112æœƒè€ƒ", q: "ä¸‹åˆ—å„çµ„ã€Œ ã€ä¸­çš„å­—ï¼Œä½•è€…è®€éŸ³ç›¸åŒï¼Ÿ", options: ["(A) ã€Œæ²ã€èŒ¶ï¼ã€Œç Œã€ç‰†", "(B) ã€Œè£¨ã€ç›Šï¼ã€Œç¨—ã€å®˜é‡å²", "(C) ã€Œæ°¾ã€æ¿«ï¼ã€Œæ³›ã€èˆŸ", "(D) ä¸ã€Œå¿ã€å’è®€ï¼ã€ŒéŸŒã€æ€§"], correct: "(C) ã€Œæ°¾ã€æ¿«ï¼ã€Œæ³›ã€èˆŸ", note: "çš†è®€ã„ˆã„¢Ë‹ã€‚æ²(ã„‘ã„§)/ç Œ(ã„‘ã„§Ë‹)ï¼›è£¨(ã„…ã„§Ë‹)/ç¨—(ã„…ã„Ë‹)ï¼›å¿(ã„–ã„£Ë‡)/éŸŒ(ã„–ã„£Ë‹)ã€‚" },
        { id: "pw3", cat: "pro_word", source: "111æœƒè€ƒ", q: "ä¸‹åˆ—å„çµ„ã€Œ ã€ä¸­çš„å­—ï¼Œä½•è€…å­—å½¢ç›¸åŒï¼Ÿ", options: ["(A) ã€Œã„†ã„›Ë‹ã€é‡œæ²‰èˆŸï¼ã€Œã„†ã„›Ë‹ã€åˆ‡", "(B) ã€Œã„ã„§ã„¥ã€ç›Šæ±‚ç²¾ï¼ä¸ã€Œã„ã„§ã„¥ã€è€Œèµ°", "(C) ã€Œã„‰ã„§Ë‹ã€é€ ä½³ç¸¾ï¼çœŸã€Œã„‰ã„§Ë‹ã€", "(D) ã€Œã„Œã„§Ë‹ã€å…µç§£é¦¬ï¼å†æ¥å†ã€Œã„Œã„§Ë‹ã€"], correct: "(D) ã€Œã„Œã„§Ë‹ã€å…µç§£é¦¬ï¼å†æ¥å†ã€Œã„Œã„§Ë‹ã€", note: "çš†ç‚ºã€Œå²ã€ã€‚Aï¼šç ´/è¿«ï¼›Bï¼šç²¾/è„›ï¼›Cï¼šç· /è«¦ã€‚" },
        { id: "pw4", cat: "pro_word", source: "110æœƒè€ƒ", q: "ã€Œè‡ªæ€¨è‡ªè‰¾ã€ä¸­ã€Œè‰¾ã€å­—çš„è®€éŸ³èˆ‡æ„æ€ï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ", options: ["(A) ã„Ë‹ï¼Œè‰å", "(B) ã„§Ë‹ï¼Œæ‚”æ”¹", "(C) ã„Ë‹ï¼Œè’¼è€", "(D) ã„§Ë‹ï¼Œçµ‚æ­¢"], correct: "(B) ã„§Ë‹ï¼Œæ‚”æ”¹", note: "è‰¾ï¼šæ²»ä¹Ÿã€æ‚”æ”¹ï¼Œè®€ã„§Ë‹ã€‚" },
        { id: "pw5", cat: "pro_word", source: "114åƒè€ƒå·", q: "ä¸‹åˆ—å„çµ„ã€Œ ã€ä¸­çš„å­—ï¼Œä½•è€…è®€éŸ³æ­£ç¢ºï¼Ÿ", options: ["(A) é‡ã€Œç ­ã€ï¼šã„…ã„§ã„¢", "(B) å‹ã€Œèª¼ã€ï¼šã„§ËŠ", "(C) ã€Œåª²ã€ç¾ï¼šã„…ã„§Ë‹", "(D) è³„ã€Œè³‚ã€ï¼šã„Œã„¨Ë‹"], correct: "(A) é‡ã€Œç ­ã€ï¼šã„…ã„§ã„¢", note: "èª¼ï¼šã„§Ë‹ï¼›åª²ï¼šã„†ã„§Ë‹ï¼›è³‚ï¼šã„Œã„¨Ë‹ã€‚" },

        // === 4. é«˜æ‰‹å¯¦æˆ°å€ï¼šæ­·å±†é–±è®€åˆ¤è®€ (cat: "pro_reading") ===
        { id: "pr1", cat: "pro_reading", source: "114åƒè€ƒå·", q: "æ ¹æ“šæ–‡ä¸­æ–°ã€èˆŠã€Šäº”ä»£å²ã€‹å°å—å”å›ä¸»çš„è¨˜è¼‰ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…æœ€æ°ç•¶ï¼Ÿ", options: ["(A) ã€ŠèˆŠäº”ä»£å²ã€‹èªåŒå…¶æ­£çµ±åœ°ä½", "(B) æ–°ã€èˆŠã€Šäº”ä»£å²ã€‹éƒ½ä¸è‚¯æ‰¿èªå—å”å›ä¸»çš„å¸ç‹èº«åˆ†", "(C) å—å”å›ä¸»åœ¨ã€ŠèˆŠäº”ä»£å²ã€‹çš„å®šä½æ¯”åœ¨ã€Šæ–°äº”ä»£å²ã€‹é«˜", "(D) ã€Šæ–°äº”ä»£å²ã€‹ä¸æ‰¿èªåŒ—æ–¹æ”¿æ¬Š"], correct: "(C) å—å”å›ä¸»åœ¨ã€ŠèˆŠäº”ä»£å²ã€‹çš„å®šä½æ¯”åœ¨ã€Šæ–°äº”ä»£å²ã€‹é«˜", note: "èˆŠäº”ä»£å²è¨˜æ–¼ä¸–å®¶ï¼Œæ–°äº”ä»£å²è¨˜æ–¼è¼‰è¨˜ï¼Œåæ˜ å²è§€ä¸åŒã€‚" },
        { id: "pr2", cat: "pro_reading", source: "113æœƒè€ƒ", q: "ã€Œæœ‰æ™‚å€™ï¼Œé›¢é–‹æ˜¯ç‚ºäº†å°‹æ‰¾æ›´è¿‘çš„è·¯ã€‚ã€é€™å¥è©±çš„å«æ„èˆ‡ä¸‹åˆ—ä½•è€…æœ€æ¥è¿‘ï¼Ÿ", options: ["(A) å±±é‡æ°´è¤‡ç–‘ç„¡è·¯", "(B) æ¬²é€Ÿå‰‡ä¸é”", "(C) é€€æ­¥åŸä¾†æ˜¯å‘å‰", "(D) æŸ³æš—èŠ±æ˜åˆä¸€æ‘"], correct: "(C) é€€æ­¥åŸä¾†æ˜¯å‘å‰", note: "è½‰å½æˆ–é€€ä¸€æ­¥æœ‰æ™‚æ˜¯ç‚ºäº†æ›´å¥½çš„å‰é€²ã€‚" },
        { id: "pr3", cat: "pro_reading", source: "112æœƒè€ƒ", q: "é—œæ–¼ã€Šè«–èªã€‹ä¸­ã€Œå…¶æ•ä¹ï¼å·±æ‰€ä¸æ¬²ï¼Œå‹¿æ–½æ–¼äººã€‚ã€ä¸­ã€Œå…¶ã€å­—çš„ç”¨æ³•ï¼Ÿ", options: ["(A) ä»£åè©ï¼Œä»–", "(B) å‰¯è©ï¼Œé›£é“", "(C) å‰¯è©ï¼Œå¤§æ¦‚ã€æ¨æ¸¬", "(D) åŠ©è©ï¼Œç„¡ç¾©"], correct: "(C) å‰¯è©ï¼Œå¤§æ¦‚ã€æ¨æ¸¬", note: "å…¶ï¼šè¡¨ç¤ºæ¨æ¸¬ã€å®åš€çš„èªæ°£ã€‚" }
    ];

    let currentSet = [];
    let currentIdx = 0;

    function startLevel(category) {
        currentSet = allQuestions.filter(q => q.cat === category);
        if(currentSet.length === 0) { alert("æ­¤å€é¡Œåº«å»ºç½®ä¸­ï¼Œè«‹å…ˆç·´ç¿’å…¶ä»–å€ï¼"); return; }
        currentIdx = 0;
        document.getElementById('menu-ui').style.display = "none";
        document.getElementById('game-ui').style.display = "block";
        showQuestion();
    }

    function showQuestion() {
        const q = currentSet[currentIdx];
        document.getElementById('q-source').innerText = q.source || "åŸºç¤ç·´ç¿’";
        document.getElementById('q-text').innerText = q.q;
        const optZone = document.getElementById('opt-zone');
        optZone.innerHTML = "";
        q.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(opt);
            optZone.appendChild(btn);
        });
        document.getElementById('feedback').style.display = "none";
        document.getElementById('next-btn').style.display = "none";
    }

    function checkAnswer(selected) {
        const q = currentSet[currentIdx];
        const feedback = document.getElementById('feedback');
        const isCorrect = selected === q.correct;
        
        feedback.className = isCorrect ? "correct" : "wrong";
        feedback.innerHTML = isCorrect ? `ğŸ¯ ç­”å°äº†ï¼<br><small>${q.note}</small>` : `âŒ ç­”éŒ¯äº†ï¼Œæ­£ç¢ºæ˜¯ã€Œ${q.correct}ã€<br><small>${q.note}</small>`;
        feedback.style.display = "block";
        document.getElementById('next-btn').style.display = "block";
        if(isCorrect) confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);
    }

    document.getElementById('next-btn').onclick = () => {
        currentIdx++;
        if (currentIdx < currentSet.length) {
            showQuestion();
        } else {
            alert("æœ¬å–®å…ƒç·´ç¿’çµæŸï¼å›é¦–é æŒ‘æˆ°å…¶ä»–å€åŸŸå§ã€‚");
            location.reload();
        }
    };
</script>
</body>
</html>
